<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <VerbScript.VerbScriptDef>
    <defName>VS_WallIn</defName>
	<verbData>
		<potential>
			<isGender>Female</isGender>
			<isRace>Human</isRace>
			<not><hasHediff>Dementia</hasHediff></not>
		</potential>
		<aiEnabled>true</aiEnabled>
		<fire>
			<save>
				<string>SpinVector</string>
				<mult>
					<normalize>
						<sub>
							<aimtarget/>
							<rootscope/>
						</sub>
						<YZero>true</YZero>
					</normalize>
					<num>5</num>
				</mult>
			</save>
			<save>
				<string>Counter</string>
				<num>0</num>
			</save>
			<while>
				<less>
					<load>Counter</load>
					<num>40</num>
				</less>
				<save>
					<string>Counter</string>
					<add>
						<load>Counter</load>
						<num>1</num>
					</add>
				</save>
				<spawndef>
					<spawnPosition>
						<add>
							<load>SpinVector</load>
							<aimtarget/>
						</add>
					</spawnPosition>
					<spawnDef>Wall</spawnDef>
					<stuffDef>WoodLog</stuffDef>
				</spawndef>
				<spawndef>
					<spawnPosition>
						<add>
							<load>SpinVector</load>
							<aimtarget/>
						</add>
					</spawnPosition>
					<spawnDef>Mote_PlainFlash</spawnDef>
					<scale>4</scale>
				</spawndef>
				<save>
					<string>SpinVector</string>
					<rotate>
						<num>9</num>
						<load>SpinVector</load>
					</rotate>
				</save>
				<delay>1</delay>
			</while>
		</fire>
		<repeatVerb>false</repeatVerb>
		<cooldownTicks>50</cooldownTicks>
		<label>Wall In!</label>
		<description>Raise a wall!</description>
		<icon>Things/Item/Equipment/WeaponRanged/MachinePistol</icon>
		<verbProps>
			<verbClass>VerbScript.Verb_Scripted</verbClass>
			<hasStandardCommand>true</hasStandardCommand>
			<warmupTime>0.5</warmupTime>
			<range>19.9</range>
			<soundCast>Shot_MachinePistol</soundCast>
			<soundCastTail>GunTail_Light</soundCastTail>
			<muzzleFlashScale>9</muzzleFlashScale>
			<targetParams>
				<canTargetLocations>true</canTargetLocations>
			</targetParams>
		</verbProps>
	</verbData>
  </VerbScript.VerbScriptDef>
</Defs>